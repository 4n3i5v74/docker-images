
# PIPEWORK AS A DOCKER CONTAINER REQUIRES DOCKER 1.5.
# Missing --pid option in fig. See README.md for more details.

server1:
  image: myrepo/myapp1
  environment:
    - pipework_cmd=eth0 @CONTAINER_NAME@ 192.168.1.218/16

server2:
  image: myrepo/myapp2
  environment:
    - pipework_cmd=eth0 @CONTAINER_NAME@ dhcp 0a:00:01:00:02:18

# Notice the @CONTAINER_NAME@ macro replacement.
# 2 alternative macro templates: @CONTAINER_ID@ and @HOSTNAME@

pipework:
  image: dreamcat4/pipework
  volumes:
    - /var/run/docker.sock:/docker.sock
  privileged: true
  pid: true # option not yet implemented in fig
  links:
    - server1
    - server2


